/* global define */
define(["qlik","./lib/js/helpers","text!./lib/data/icons-lui.json"],function(e,t,l){"use strict";var o=[{value:"applyBookmark",label:"Apply a bookmark",group:"bookmark"},{value:"clearAll",label:"Clear all selections",group:"selection"},{value:"clearOther",label:"Clear selections in other fields",group:"selection"},{value:"forward",label:"Move forwards (in your selections)",group:"selection"},{value:"back",label:"Move backwards (in your selections)",group:"selection"},{value:"clearField",label:"Clear selections in field",group:"selection"},{value:"lockAll",label:"Lock all selections",group:"selection"},{value:"lockField",label:"Lock a specific field",group:"selection"},{value:"unlockAll",label:"Unlock all selections",group:"selection"},{value:"unlockField",label:"Unlock a specific field",group:"selection"},{value:"unlockAllAndClearAll",label:"Unlock all and clear all",group:"selection"},{value:"selectField",label:"Select a value in a field",group:"selection"},{value:"selectAll",label:"Select all values in a field",group:"selection"},{value:"selectValues",label:"Select multiple values in a field",group:"selection"},{value:"selectAlternative",label:"Select alternatives",group:"selection"},{value:"selectAndLockField",label:"Select a value and lock field",group:"selection"},{value:"selectExcluded",label:"Select excluded",group:"selection"},{value:"selectPossible",label:"Select possible values in a field",group:"selection"},{value:"setVariable",label:"Set variable value",group:"variables"},{value:"toggleSelect",label:"Toggle field selection",group:"selection"}];function n(e,t){if(void 0===e||void 0===t)return null;for(var l=e.length,o=0;o<l;o++)if(e[o].cId===t)return e[o];return null}var a=["applyBookmark"],i=["clearField","clearOther","lockField","selectAll","selectAlternative","selectExcluded","selectField","selectPossible","selectValues","selectAndLockField","toggleSelect","unlockField"],s=["selectField","selectValues","setVariable","selectAndLockField","toggleSelect"],r=["selectValues"],u=["setVariable"],c=["clearOther","selectAll","selectAlternative","selectExcluded","selectPossible","toggleSelect"];return{type:"items",component:"accordion",items:{sectionAppearance:{uses:"settings",items:{general:{items:{showTitles:{defaultValue:!1},details:{show:!1}}}}},sectionButtonLayout:{type:"items",component:"expandable-items",label:"Button layout",items:{label:{type:"items",label:"Label",items:{buttonLabel:{ref:"props.buttonLabel",label:"Label",type:"string",expression:"optional",show:function(){return!0},defaultValue:"My Button"}}},icons:{type:"items",label:"Icon",items:{buttonShowIcon:{type:"boolean",component:"switch",label:"Show icon",ref:"props.buttonShowIcon",options:[{value:!0,label:"On"},{value:!1,label:"Off"}],defaultValue:!1},buttonIconsLui:{type:"string",component:"dropdown",label:"Icon (Leonardo UI icon-set)",ref:"props.buttonIconLui",options:function(){return function(e){var t=JSON.parse(e).icons,l=[];return t.forEach(function(e){l.push({value:e.id,label:e.name})}),l.sort(function(e,t){return(""+e.label).localeCompare(t.label)}),l.unshift({value:"",label:">> No icon <<"}),l}(l)},show:function(e){return!0===e.props.buttonShowIcon&&"lui"===e.props.buttonIconSet}}}},alignment:{type:"items",label:"Size and alignment",items:{buttonWidth:{type:"boolean",component:"buttongroup",label:"Button width",ref:"props.fullWidth",options:[{value:!0,label:"Full Width",tooltip:"Button has the same width as the element."},{value:!1,label:"Auto Width",tooltip:"Auto width depending on the label defined."}],defaultValue:!1},buttonAlignment:{ref:"props.buttonAlignment",type:"string",component:"dropdown",label:"Button position",defaultValue:"top-left",options:[{label:"Top left",value:"top-left"},{label:"Top middle",value:"top-middle"},{label:"Top right",value:"top-right"},{label:"Left middle",value:"left-middle"},{label:"Centered",value:"centered"},{label:"Right middle",value:"right-middle"},{label:"Bottom left",value:"bottom-left"},{label:"Bottom middle",value:"bottom-middle"},{label:"Bottom right",value:"bottom-right"}]},buttonTextAlign:{ref:"props.buttonTextAlign",label:"Label alignment",type:"string",component:"dropdown",defaultValue:"left",options:[{value:"center",label:"Center"},{value:"left",label:"Left"},{value:"right",label:"Right"}],show:function(e){return e.props.fullWidth}}}},conditionalEnable:{type:"items",label:"Enable condition",items:{usecondition:{type:"boolean",component:"switch",label:"Use enable condition",ref:"props.useEnabledCondition",defaultValue:!1,options:[{value:!0,label:"On"},{value:!1,label:"Off"}]},condition:{ref:"props.enabledCondition",label:"Enable condition",type:"integer",defaultValue:1,expression:"optional",show:function(e){return!0===e.props.useEnabledCondition}}}}}},sectionNavigationAndActions:{type:"items",component:"expandable-items",label:"Actions and navigation",items:{actionsList:{type:"array",ref:"props.actionItems",label:"Actions",itemTitleRef:function(e){return function(e){if(void 0===o||void 0===e)return e;for(var t=o.length,l=0;l<t;l++)if(o[l].value===e)return o[l].label;return e}(e.actionType)},allowAdd:!0,allowRemove:!0,addTranslation:"Add Item",grouped:!0,items:{actionType:{type:"string",ref:"actionType",component:"dropdown",defaultValue:"none",options:o},bookmarkList:{type:"string",ref:"selectedBookmark",component:"dropdown",label:"Select bookmark",expression:"optional",options:function(){return t.getBookmarkList({})},show:function(e,t){var l=n(t.layout.props.actionItems,e.cId);return l&&-1<a.indexOf(l.actionType)}},fieldList:{type:"string",ref:"selectedField",component:"dropdown",label:"Select field",defaultValue:"",options:function(){return t.getFieldList().then(function(e){return e.splice(0,0,{value:"by-expr",label:">> Define field by expression <<"}),e})},show:function(e,t){var l=n(t.layout.props.actionItems,e.cId);return l&&-1<i.indexOf(l.actionType)}},field:{type:"string",ref:"field",label:"Field",expression:"optional",show:function(e,t){var l=n(t.layout.props.actionItems,e.cId);return l&&-1<i.indexOf(l.actionType)&&"by-expr"===l.selectedField}},variable:{type:"string",ref:"variable",label:"Variable name",expression:"optional",show:function(e,t){var l=n(t.layout.props.actionItems,e.cId);return l&&-1<u.indexOf(l.actionType)}},value:{type:"string",ref:"value",label:"Value",expression:"optional",show:function(e,t){var l=n(t.layout.props.actionItems,e.cId);return l&&-1<s.indexOf(l.actionType)}},valueDesc:{type:"text",component:"text",ref:"valueDesc",label:"Define multiple values separated with a semi-colon (;).",show:function(e,t){var l=n(t.layout.props.actionItems,e.cId);return l&&-1<r.indexOf(l.actionType)}},overwriteLocked:{type:"boolean",ref:"softLock",label:"Overwrite locked selections",defaultValue:!1,show:function(e,t){var l=n(t.layout.props.actionItems,e.cId);return l&&-1<c.indexOf(l.actionType)}}}},navigationBehavior:{type:"items",label:"Navigation",items:{action:{ref:"props.navigationAction",label:"Navigation action",type:"string",component:"dropdown",default:"nextSheet",options:[{label:"None",value:"none"},{label:"Go to first sheet",value:"firstSheet"},{label:"Go to next sheet",value:"nextSheet"},{label:"Go to previous sheet",value:"prevSheet"},{label:"Go to last sheet",value:"lastSheet"},{label:"Go to a sheet",value:"gotoSheet"},{label:"Go to a sheet (defined by sheet Id)",value:"gotoSheetById"},{label:"Go to a story",value:"gotoStory"},{label:"Open a website / eMail",value:"openWebsite"},{label:"Switch to edit mode",value:"switchToEdit"}]},sheetId:{ref:"props.sheetId",label:"Sheet Id",type:"string",expression:"optional",show:function(e){return"gotoSheetById"===e.props.navigationAction}},sheetList:{type:"string",component:"dropdown",label:"Select sheet",ref:"props.selectedSheet",options:function(){return t.getPPList({listType:"sheet",sortBy:"title"})},show:function(e){return"gotoSheet"===e.props.navigationAction}},storyList:{type:"string",component:"dropdown",label:"Select story",ref:"props.selectedStory",options:function(){return t.getPPList({listType:"story",sortBy:"title"})},show:function(e){return"gotoStory"===e.props.navigationAction}},websiteUrl:{ref:"props.websiteUrl",label:"Website Url:",type:"string",expression:"optional",show:function(e){return"openWebsite"===e.props.navigationAction}},sameWindow:{ref:"props.sameWindow",label:"Open in same window",type:"boolean",defaultValue:!0,show:function(e){return"openWebsite"===e.props.navigationAction}}}}}},sectionAbout:{component:"items",label:"About",items:{header:{label:"Button for navigation",style:"header",component:"text"},paragraph1:{label:"A button that allows an app developer to pre-define navigation and selection actions.",component:"text"},paragraph2:{label:"Button for navigation is based upon an extension created by Stefan Walther at QlikTech International AB.",component:"text"}}}}}});